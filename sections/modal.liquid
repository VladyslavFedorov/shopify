<style>
  /* Сховати модальне вікно за замовчуванням */
.modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
}

.modal-content {
  background-color: #fff;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 60%;
}

.close {
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
</style>

<div id="custom_modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <p>Це модальне вікно!</p>
  </div>
</div>

{% schema %}
{
  "name": "Modal",
  "enabled_on": {
    "groups": ["footer"]
  },
  "max_blocks": 1,
  "settings": [
    {
      "type": "range",
      "id": "modal_width",
      "min": 200,
      "max": 1200,
      "step": 10,
      "default": 800,
      "label": "Modal width"
    },
        {
      "type": "select",
      "id": "appearance_options",
      "options": [
        {
          "value": "when_load",
          "label": "When load"
        },
        {
          "value": "when_scroll",
          "label": "When scroll to block"
        }
      ],
      "default": "when_load",
      "label": "Appearance options"
    }
  ],
  "blocks": [
    {
      "type": "Product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        }
      ]
    },
        {
      "type": "message",
      "name": "Message",
      "settings": [
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "Background image"
        },
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "t:sections.multicolumn.blocks.column.settings.title.label"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "t:sections.multicolumn.blocks.column.settings.text.label"
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "t:sections.multicolumn.blocks.column.settings.link_label.label"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.multicolumn.blocks.column.settings.link.label"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Modal"
    }
  ]
}
{% endschema %}


<script>
const modal = document.getElementById('custom_modal');
const closeModal = modal.querySelector('.close');

document.addEventListener('DOMContentLoaded', () => {
  modal.style.display = 'block';
});

closeModal.addEventListener('click', () => {
  modal.style.display = 'none';
});

window.addEventListener('click', (event) => {
  if (event.target === modal) {
    modal.style.display = 'none';
  }
});
</script>
